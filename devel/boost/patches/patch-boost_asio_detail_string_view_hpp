$OpenBSD: patch-boost_asio_detail_string_view_hpp,v 1.1 2019/02/06 11:43:35 jca Exp $

libc++-7 deprecates <experimental/string_view> so use <string_view> if present
instead.

libestdc++ provides <string_view> starting with gcc-7.1.0:
  https://github.com/gcc-mirror/gcc/commit/76d7f2c208a23ceeffb5e9b8ebe3ce9cc91c4870#diff-077b1e7070de8a0ee56e6c5c2c4c0cc5

Index: boost/asio/detail/string_view.hpp
--- boost/asio/detail/string_view.hpp.orig
+++ boost/asio/detail/string_view.hpp
@@ -19,22 +19,22 @@
 
 #if defined(BOOST_ASIO_HAS_STD_STRING_VIEW)
 
-#if defined(BOOST_ASIO_HAS_STD_EXPERIMENTAL_STRING_VIEW)
-# include <experimental/string_view>
-#else // defined(BOOST_ASIO_HAS_EXPERIMENTAL_STRING_VIEW)
+#if !defined(BOOST_ASIO_HAS_STD_EXPERIMENTAL_STRING_VIEW)
 # include <string_view>
-#endif // defined(BOOST_ASIO_HAS_EXPERIMENTAL_STRING_VIEW)
+#else // !defined(BOOST_ASIO_HAS_EXPERIMENTAL_STRING_VIEW)
+# include <experimental/string_view>
+#endif // !defined(BOOST_ASIO_HAS_EXPERIMENTAL_STRING_VIEW)
 
 namespace boost {
 namespace asio {
 
-#if defined(BOOST_ASIO_HAS_STD_EXPERIMENTAL_STRING_VIEW)
-using std::experimental::basic_string_view;
-using std::experimental::string_view;
-#else // defined(BOOST_ASIO_HAS_STD_EXPERIMENTAL_STRING_VIEW)
+#if !defined(BOOST_ASIO_HAS_STD_EXPERIMENTAL_STRING_VIEW)
 using std::basic_string_view;
 using std::string_view;
-#endif // defined(BOOST_ASIO_HAS_STD_EXPERIMENTAL_STRING_VIEW)
+#else // !defined(BOOST_ASIO_HAS_STD_EXPERIMENTAL_STRING_VIEW)
+using std::experimental::basic_string_view;
+using std::experimental::string_view;
+#endif // !defined(BOOST_ASIO_HAS_STD_EXPERIMENTAL_STRING_VIEW)
 
 } // namespace asio
 } // namespace boost
