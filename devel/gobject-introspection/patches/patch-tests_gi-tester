$OpenBSD: patch-tests_gi-tester,v 1.3 2016/04/26 20:52:52 jasper Exp $

From dbbb8b36f2573134d46d5a514a86cc82a18e89d9 Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@humppa.nl>
Date: Tue, 26 Apr 2016 17:58:29 +0200
Subject: Replace GNU -B extension with a more portable -I equivalent

--- tests/gi-tester.orig	Tue Apr 26 17:51:36 2016
+++ tests/gi-tester	Tue Apr 26 17:51:42 2016
@@ -19,19 +19,19 @@ case $targetname in
     exit 0
     ;;
 *-C)
-    diff -r -u -w -B -U 10 ${srcdir}/${targetbase}-expected ${builddir}/${targetbase}
+    diff -r -u -w -I '^\s*$' -U 10 ${srcdir}/${targetbase}-expected ${builddir}/${targetbase}
     exit $?
     ;;
 *-Python)
-    diff -r -u -w -B -U 10 ${srcdir}/${targetbase}-expected ${builddir}/${targetbase}
+    diff -r -u -w -I '^\s*$' -U 10 ${srcdir}/${targetbase}-expected ${builddir}/${targetbase}
     exit $?
     ;;
 *-Gjs)
-    diff -r -u -w -B -U 10 ${srcdir}/${targetbase}-expected ${builddir}/${targetbase}
+    diff -r -u -w -I '^\s*$' -U 10 ${srcdir}/${targetbase}-expected ${builddir}/${targetbase}
     exit $?
     ;;
 *-sections.txt)
-    diff -u -w -B -U 10 ${srcdir}/${targetname::-4}-expected.txt ${builddir}/${targetname}
+    diff -u -w -I '^\s*$' -U 10 ${srcdir}/${targetname::-4}-expected.txt ${builddir}/${targetname}
     exit $?
     ;;
 *.py)
