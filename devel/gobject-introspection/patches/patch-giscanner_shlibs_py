$OpenBSD: patch-giscanner_shlibs_py,v 1.9 2018/04/24 18:45:12 jasper Exp $

https://gitlab.gnome.org/GNOME/gobject-introspection/issues/208

Index: giscanner/shlibs.py
--- giscanner/shlibs.py.orig
+++ giscanner/shlibs.py
@@ -115,8 +115,12 @@ def _resolve_non_libtool(options, binary, libraries):
             patterns[library] = _ldd_library_pattern(library)
 
         shlibs = []
+        line_cnt = 0
         for line in proc.stdout:
             line = line.decode('ascii')
+            line_cnt += 1
+            if line_cnt < 4:
+                continue
             # ldd on *BSD show the argument passed on the first line even if
             # there is only one argument. We have to ignore it because it is
             # possible for the name of the binary to match _ldd_library_pattern.
