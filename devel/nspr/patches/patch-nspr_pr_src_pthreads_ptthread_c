$OpenBSD: patch-nspr_pr_src_pthreads_ptthread_c,v 1.5 2015/10/30 07:58:52 landry Exp $

On OpenBSD pthread_set_name_np returns void

--- nspr/pr/src/pthreads/ptthread.c.orig	Fri Oct 16 15:22:19 2015
+++ nspr/pr/src/pthreads/ptthread.c	Wed Oct 21 08:55:29 2015
@@ -16,6 +16,7 @@
 #include "prpdce.h"
 
 #include <pthread.h>
+#include <pthread_np.h>
 #include <unistd.h>
 #include <string.h>
 #include <signal.h>
@@ -1752,7 +1753,8 @@ PR_IMPLEMENT(PRStatus) PR_SetCurrentThreadName(const c
     memcpy(thread->name, name, nameLen + 1);
 
 #if defined(OPENBSD) || defined(FREEBSD)
-    result = pthread_set_name_np(thread->id, name);
+    pthread_set_name_np(thread->id, name);
+    result = 0;
 #else /* not BSD */
     /*
      * On OSX, pthread_setname_np is only available in 10.6 or later, so test
