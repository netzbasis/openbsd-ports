$OpenBSD: patch-mesonbuild_compilers_compilers_py,v 1.3 2018/05/04 20:03:10 jasper Exp $

https://github.com/mesonbuild/meson/pull/3530

Index: mesonbuild/compilers/compilers.py
--- mesonbuild/compilers/compilers.py.orig
+++ mesonbuild/compilers/compilers.py
@@ -909,10 +909,10 @@ class Compiler:
             else:
                 paths = paths + ':' + padding
         args = []
-        if mesonlib.is_dragonflybsd():
+        if mesonlib.is_dragonflybsd() or mesonlib.is_openbsd():
             # This argument instructs the compiler to record the value of
             # ORIGIN in the .dynamic section of the elf. On Linux this is done
-            # by default, but is not on dragonfly for some reason. Without this
+            # by default, but is not on dragonfly/openbsd for some reason. Without this
             # $ORIGIN in the runtime path will be undefined and any binaries
             # linked against local libraries will fail to resolve them.
             args.append('-Wl,-z,origin')
