$OpenBSD: patch-libgit2-glib_ggit-diff-format-email-options_c,v 1.1 2017/07/23 10:09:00 ajacoutot Exp $

From 0e1e1bc77190e565032139fe9617387d25f33498 Mon Sep 17 00:00:00 2001
From: Ernestas Kulik <ernestask@gnome.org>
Date: Sat, 6 May 2017 13:45:53 +0300
Subject: Set correct native when setting email options author

Index: libgit2-glib/ggit-diff-format-email-options.c
--- libgit2-glib/ggit-diff-format-email-options.c.orig
+++ libgit2-glib/ggit-diff-format-email-options.c
@@ -536,7 +536,7 @@ ggit_diff_format_email_options_set_author (GgitDiffFor
 	if (author)
 	{
 		priv->author = ggit_signature_copy (author);
-		priv->options.author = _ggit_native_get (author);
+		priv->options.author = _ggit_native_get (priv->author);
 	}
 
 	g_object_notify (G_OBJECT (options), "author");
