$OpenBSD: patch-pwqcheck_c,v 1.3 2016/07/30 14:26:36 ajacoutot Exp $
--- pwqcheck.c.orig	Tue Jul 26 16:16:56 2016
+++ pwqcheck.c	Tue Jul 26 16:17:17 2016
@@ -67,7 +67,7 @@ static char *extract_string(char **stringp)
 static struct passwd *parse_pwline(char *line, struct passwd *pw)
 {
 	if (!strchr(line, ':')) {
-		struct passwd *p = getpwnam(line);
+		struct passwd *p = getpwnam_shadow(line);
 		endpwent();
 		if (!p) {
 			fprintf(stderr, "pwqcheck: User not found.\n");
