$OpenBSD: patch-tests_CMakeLists_txt,v 1.1 2019/11/05 09:15:33 rsadowski Exp $

Fix building without features
https://github.com/keepassxreboot/keepassxc/commit/d13e79dac484d09887861930bb2cebd4ef39022e?diff

Index: tests/CMakeLists.txt
--- tests/CMakeLists.txt.orig
+++ tests/CMakeLists.txt
@@ -87,17 +87,7 @@ macro(add_unit_test)
     endif()
 endmacro(add_unit_test)
 
-set(TEST_LIBRARIES
-        keepassx_core
-        ${keepassxcbrowser_LIB}
-        ${autotype_LIB}
-        Qt5::Core
-        Qt5::Concurrent
-        Qt5::Widgets
-        Qt5::Test
-        ${GCRYPT_LIBRARIES}
-        ${GPGERROR_LIBRARIES}
-        ${ZLIB_LIBRARIES})
+set(TEST_LIBRARIES keepassx_core Qt5::Test)
 
 set(testsupport_SOURCES
         modeltest.cpp
@@ -107,10 +97,6 @@ set(testsupport_SOURCES
         stub/TestRandom.cpp)
 add_library(testsupport STATIC ${testsupport_SOURCES})
 target_link_libraries(testsupport Qt5::Core Qt5::Concurrent Qt5::Widgets Qt5::Test)
-
-if(YUBIKEY_FOUND)
-    set(TEST_LIBRARIES ${TEST_LIBRARIES} ${YUBIKEY_LIBRARIES})
-endif()
 
 add_unit_test(NAME testgroup SOURCES TestGroup.cpp
         LIBS testsupport ${TEST_LIBRARIES})
