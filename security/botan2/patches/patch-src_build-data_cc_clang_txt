$OpenBSD: patch-src_build-data_cc_clang_txt,v 1.1 2018/01/14 20:40:18 rsadowski Exp $

Index: src/build-data/cc/clang.txt
--- src/build-data/cc/clang.txt.orig
+++ src/build-data/cc/clang.txt
@@ -1,13 +1,13 @@
 macro_name CLANG
 
-binary_name clang++
+binary_name ${CXX}
 
 lang_flags "-std=c++11 -D_REENTRANT"
 
 warning_flags "-Wall -Wextra -Wpedantic -Wshadow -Wstrict-aliasing -Wstrict-overflow=5 -Wcast-align -Wmissing-declarations -Wpointer-arith -Wcast-qual"
 maintainer_warning_flags "-Wunreachable-code -Wdocumentation -Qunused-arguments -Werror -Wno-error=unused-parameter -Wno-error=unreachable-code -Wno-error=deprecated-declarations"
 
-optimization_flags "-O3"
+optimization_flags "${CXXFLAGS}"
 size_optimization_flags "-Os"
 #sanitizer_flags "-fsanitize=address,undefined -fsanitize-coverage=edge,indirect-calls,8bit-counters -fno-sanitize-recover=undefined"
 sanitizer_flags "-fsanitize=address,undefined"
