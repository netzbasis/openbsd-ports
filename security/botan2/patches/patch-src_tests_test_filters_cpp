$OpenBSD: patch-src_tests_test_filters_cpp,v 1.1 2018/04/12 09:53:54 bluhm Exp $

https://github.com/randombit/botan/commit/c6a90da3f5a43411c6cd5a481b4af6a2b301cc11

Index: src/tests/test_filters.cpp
--- src/tests/test_filters.cpp.orig
+++ src/tests/test_filters.cpp
@@ -140,7 +140,14 @@ class Filter_Tests final : public Test
          Test::Result result("DataSinkFlush");
 
 #if defined(BOTAN_HAS_CODEC_FILTERS) && defined(BOTAN_TARGET_OS_HAS_FILESYSTEM)
-         const std::string tmp_name("botan_test_data_src_sink_flush.tmp");
+
+         const std::string tmp_name = Test::temp_file_name("botan_test_data_src_sink_flush.tmp");
+         if(tmp_name.empty())
+            {
+            result.test_failure("Failed to create temporary file");
+            return result;
+            }
+
          std::ofstream outfile(tmp_name);
 
          Botan::Pipe pipe(new Botan::Hex_Decoder, new Botan::DataSink_Stream(outfile));
