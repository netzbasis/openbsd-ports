$OpenBSD: patch-src_openssl_evp_c,v 1.2 2018/02/20 20:41:53 sthen Exp $

Index: src/openssl/evp.c
--- src/openssl/evp.c.orig
+++ src/openssl/evp.c
@@ -34,6 +34,7 @@
 
 #ifndef XMLSEC_NO_RSA
 
+#if defined(LIBRESSL_VERSION_NUMBER) && LIBRESSL_VERSION_NUMBER < 0x2070000fL
 static inline void RSA_get0_key(const RSA *r, const BIGNUM **n, const BIGNUM **e, const BIGNUM **d) {
     xmlSecAssert(r != NULL);
 
@@ -73,11 +74,13 @@ static inline int RSA_set0_key(RSA *r, BIGNUM *n, BIGN
     }
     return(1);
 }
+#endif
 #endif /* XMLSEC_NO_RSA */
 
 
 #ifndef XMLSEC_NO_DSA
 
+#if defined(LIBRESSL_VERSION_NUMBER) && LIBRESSL_VERSION_NUMBER < 0x2070000fL
 static inline void DSA_get0_pqg(const DSA *d, const BIGNUM **p, const BIGNUM **q, const BIGNUM **g) {
     xmlSecAssert(d != NULL);
 
@@ -147,6 +150,7 @@ static inline int DSA_set0_key(DSA *d, BIGNUM *pub_key
     }
     return(1);
 }
+#endif
 #endif /* XMLSEC_NO_DSA */
 
 #endif /* !defined(XMLSEC_OPENSSL_API_110) */
