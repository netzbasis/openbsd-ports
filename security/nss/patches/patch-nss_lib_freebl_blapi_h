$OpenBSD: patch-nss_lib_freebl_blapi_h,v 1.7 2019/04/07 18:48:38 sthen Exp $

Prevent symbol conflict with libcrypto.

Index: nss/lib/freebl/blapi.h
--- nss/lib/freebl/blapi.h.orig
+++ nss/lib/freebl/blapi.h
@@ -15,6 +15,17 @@
 SEC_BEGIN_PROTOS
 
 /*
+ * These functions are used inter-library in NSS, so must be exported, but
+ * conflict with functions in openssl libcrypto.
+ */
+#define MD5_Update NSS_MD5_Update
+#define SHA1_Update NSS_SHA1_Update
+#define SHA224_Update NSS_SHA224_Update
+#define SHA256_Update NSS_SHA256_Update
+#define SHA384_Update NSS_SHA384_Update
+#define SHA512_Update NSS_SHA512_Update
+
+/*
 ** RSA encryption/decryption. When encrypting/decrypting the output
 ** buffer must be at least the size of the public key modulus.
 */
