$OpenBSD: patch-nss_lib_freebl_unix_urandom_c,v 1.2 2018/05/28 12:44:30 landry Exp $

Use getentropy on OpenBSD too
https://bugzilla.mozilla.org/show_bug.cgi?id=1461075
https://hg.mozilla.org/projects/nss/rev/8e600e2af5bf0c29e88f928471e6aba1a734d05b

Index: nss/lib/freebl/unix_urandom.c
--- nss/lib/freebl/unix_urandom.c.orig
+++ nss/lib/freebl/unix_urandom.c
@@ -32,7 +32,7 @@ RNG_SystemRNG(void *dest, size_t maxLen)
     size_t fileBytes = 0;
     unsigned char *buffer = dest;
 
-#if defined(LINUX) && defined(__GLIBC__) && ((__GLIBC__ > 2) || ((__GLIBC__ == 2) && (__GLIBC_MINOR__ >= 25)))
+#if defined(__OpenBSD__) || (defined(LINUX) && defined(__GLIBC__) && ((__GLIBC__ > 2) || ((__GLIBC__ == 2) && (__GLIBC_MINOR__ >= 25))))
     int result;
 
     while (fileBytes < maxLen) {
