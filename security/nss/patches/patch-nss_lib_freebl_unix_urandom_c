$OpenBSD: patch-nss_lib_freebl_unix_urandom_c,v 1.1 2018/05/12 18:10:12 landry Exp $

Use getentropy on OpenBSD too
https://bugzilla.mozilla.org/show_bug.cgi?id=1461075

Index: nss/lib/freebl/unix_urandom.c
--- nss/lib/freebl/unix_urandom.c.orig
+++ nss/lib/freebl/unix_urandom.c
@@ -32,7 +32,7 @@ RNG_SystemRNG(void *dest, size_t maxLen)
     size_t fileBytes = 0;
     unsigned char *buffer = dest;
 
-#if defined(LINUX) && defined(__GLIBC__) && ((__GLIBC__ > 2) || ((__GLIBC__ == 2) && (__GLIBC_MINOR__ >= 25)))
+#if defined(__OpenBSD__) || (defined(LINUX) && defined(__GLIBC__) && ((__GLIBC__ > 2) || ((__GLIBC__ == 2) && (__GLIBC_MINOR__ >= 25))))
     int result;
 
     while (fileBytes < maxLen) {
