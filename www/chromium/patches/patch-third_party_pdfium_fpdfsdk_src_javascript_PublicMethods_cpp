$OpenBSD: patch-third_party_pdfium_fpdfsdk_src_javascript_PublicMethods_cpp,v 1.5 2015/09/05 16:06:50 robert Exp $
--- third_party/pdfium/fpdfsdk/src/javascript/PublicMethods.cpp.orig.port	Tue Sep  1 22:10:52 2015
+++ third_party/pdfium/fpdfsdk/src/javascript/PublicMethods.cpp	Wed Sep  2 07:31:55 2015
@@ -1023,7 +1023,7 @@ CFX_WideString CJS_PublicMethods::MakeFormatDate(doubl
 //function AFNumber_Format(nDec, sepStyle, negStyle, currStyle, strCurrency, bCurrencyPrepend)
 FX_BOOL CJS_PublicMethods::AFNumber_Format(IFXJS_Context* cc, const CJS_Parameters& params, CJS_Value& vRet, CFX_WideString& sError)
 {
-#if _FX_OS_ != _FX_ANDROID_
+#if _FX_OS_ != _FX_ANDROID_ && _FX_OS_ != _FX_LINUX_DESKTOP_
 	v8::Isolate* isolate = ::GetIsolate(cc);
 	CJS_Context* pContext = (CJS_Context *)cc;
 	ASSERT(pContext != NULL);
@@ -1361,7 +1361,7 @@ FX_BOOL CJS_PublicMethods::AFNumber_Keystroke(IFXJS_Co
 //function AFPercent_Format(nDec, sepStyle)
 FX_BOOL CJS_PublicMethods::AFPercent_Format(IFXJS_Context* cc, const CJS_Parameters& params, CJS_Value& vRet, CFX_WideString& sError)
 {
-#if _FX_OS_ != _FX_ANDROID_
+#if _FX_OS_ != _FX_ANDROID_ && _FX_OS_ != _FX_LINUX_DESKTOP_
 	CJS_Context* pContext = (CJS_Context *)cc;
 	ASSERT(pContext != NULL);
 	CJS_EventHandler* pEvent = pContext->GetEventHandler();
