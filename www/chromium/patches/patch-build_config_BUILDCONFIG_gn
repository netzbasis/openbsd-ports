$OpenBSD: patch-build_config_BUILDCONFIG_gn,v 1.2 2016/09/01 16:28:11 robert Exp $
--- build/config/BUILDCONFIG.gn.orig.port	Thu Sep  1 00:03:26 2016
+++ build/config/BUILDCONFIG.gn	Thu Sep  1 11:12:18 2016
@@ -127,12 +127,13 @@ declare_args() {
   is_debug = !is_official_build
 
   # Whether we're a traditional desktop unix.
-  is_desktop_linux = current_os == "linux"
+  is_desktop_linux = current_os == "linux" || current_os == "openbsd"
 
   # Set to true when compiling with the Clang compiler. Typically this is used
   # to configure warnings.
   is_clang = current_os == "mac" || current_os == "ios" ||
-             current_os == "linux" || current_os == "chromeos"
+             current_os == "linux" || current_os == "chromeos" ||
+             current_os == "openbsd"
 
   # Allows the path to a custom target toolchain to be injected as a single
   # argument, and set as the default toolchain.
@@ -178,6 +179,8 @@ if (host_toolchain == "") {
     } else {
       host_toolchain = "//build/toolchain/linux:$host_cpu"
     }
+  } else if (host_os == "openbsd") {
+    host_toolchain = "//build/toolchain/openbsd:clang_$host_cpu"
   } else if (host_os == "mac") {
     host_toolchain = "//build/toolchain/mac:clang_$host_cpu"
   } else if (host_os == "win") {
@@ -220,6 +223,8 @@ if (target_os == "android") {
   } else {
     _default_toolchain = "//build/toolchain/linux:$target_cpu"
   }
+} else if (target_os == "openbsd") {
+  _default_toolchain = host_toolchain
 } else if (target_os == "mac") {
   assert(host_os == "mac", "Mac cross-compiles are unsupported.")
   _default_toolchain = host_toolchain
@@ -273,6 +278,7 @@ if (current_os == "win" || current_os == "winrt_81" ||
   is_mac = false
   is_nacl = false
   is_posix = false
+  is_openbsd = false
   is_win = true
 } else if (current_os == "mac") {
   is_android = false
@@ -283,6 +289,7 @@ if (current_os == "win" || current_os == "winrt_81" ||
   is_nacl = false
   is_posix = true
   is_win = false
+  is_openbsd = false
 } else if (current_os == "android") {
   is_android = true
   is_chromeos = false
@@ -292,6 +299,7 @@ if (current_os == "win" || current_os == "winrt_81" ||
   is_nacl = false
   is_posix = true
   is_win = false
+  is_openbsd = false
 } else if (current_os == "chromeos") {
   is_android = false
   is_chromeos = true
@@ -301,6 +309,7 @@ if (current_os == "win" || current_os == "winrt_81" ||
   is_nacl = false
   is_posix = true
   is_win = false
+  is_openbsd = false
 } else if (current_os == "nacl") {
   # current_os == "nacl" will be passed by the nacl toolchain definition.
   # It is not set by default or on the command line. We treat is as a
@@ -313,6 +322,7 @@ if (current_os == "win" || current_os == "winrt_81" ||
   is_nacl = true
   is_posix = true
   is_win = false
+  is_openbsd = false
 } else if (current_os == "ios") {
   is_android = false
   is_chromeos = false
@@ -322,6 +332,7 @@ if (current_os == "win" || current_os == "winrt_81" ||
   is_nacl = false
   is_posix = true
   is_win = false
+  is_openbsd = false
 } else if (current_os == "linux") {
   is_android = false
   is_chromeos = false
@@ -331,6 +342,17 @@ if (current_os == "win" || current_os == "winrt_81" ||
   is_nacl = false
   is_posix = true
   is_win = false
+  is_openbsd = false
+} else if (current_os == "openbsd") {
+  is_android = false
+  is_chromeos = false
+  is_ios = false
+  is_linux = true
+  is_mac = false
+  is_nacl = false
+  is_posix = true
+  is_win = false
+  is_openbsd = true
 }
 
 # =============================================================================
