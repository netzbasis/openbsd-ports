$OpenBSD: patch-gfx_thebes_gfxFcPlatformFontList_cpp,v 1.3 2018/09/05 16:19:01 landry Exp $

https://hg.mozilla.org/mozilla-central/rev/411427c1f5fe

Index: gfx/thebes/gfxFcPlatformFontList.cpp
--- gfx/thebes/gfxFcPlatformFontList.cpp.orig
+++ gfx/thebes/gfxFcPlatformFontList.cpp
@@ -1538,7 +1538,7 @@ gfxFcPlatformFontList::AddFontSetFamilies(FcFontSet* a
             continue;
         }
 
-#ifdef MOZ_CONTENT_SANDBOX
+#if defined(MOZ_CONTENT_SANDBOX) && defined (XP_LINUX)
         // Skip any fonts that will be blocked by the content-process sandbox
         // policy.
         if (aPolicy && !(aPolicy->Lookup(reinterpret_cast<const char*>(path)) &
@@ -1700,7 +1700,7 @@ gfxFcPlatformFontList::InitFontListForPlatform()
 
     UniquePtr<SandboxPolicy> policy;
 
-#ifdef MOZ_CONTENT_SANDBOX
+#if defined(MOZ_CONTENT_SANDBOX) && defined (XP_LINUX)
     // If read sandboxing is enabled, create a temporary SandboxPolicy to
     // check font paths; use a fake PID to avoid picking up any PID-specific
     // rules by accident.
