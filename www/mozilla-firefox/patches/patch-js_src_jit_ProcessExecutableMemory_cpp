$OpenBSD: patch-js_src_jit_ProcessExecutableMemory_cpp,v 1.2 2017/04/20 06:12:58 landry Exp $

https://bugzilla.mozilla.org/show_bug.cgi?id=1347139

--- js/src/jit/ProcessExecutableMemory.cpp.orig	Mon Mar 20 21:10:31 2017
+++ js/src/jit/ProcessExecutableMemory.cpp	Tue Mar 21 19:48:35 2017
@@ -390,7 +390,12 @@ class PageBitSet
 #if JS_BITS_PER_WORD == 32
 static const size_t MaxCodeBytesPerProcess = 140 * 1024 * 1024;
 #else
+#ifdef __OpenBSD__
+// default datasize is 768Mb on OpenBSD
+static const size_t MaxCodeBytesPerProcess = 128 * 1024 * 1024;
+#else
 static const size_t MaxCodeBytesPerProcess = 1 * 1024 * 1024 * 1024;
+#endif
 #endif
 
 // Per-process executable memory allocator. It reserves a block of memory of
