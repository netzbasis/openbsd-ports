$OpenBSD: patch-src_app_qgisapp_cpp,v 1.18 2017/05/23 09:16:29 landry Exp $
Fix paths to docs

Last chunk:
https://github.com/qgis/QGIS/commit/af8fb04f396b8dce8eaae1d939fbe371ba05e6fb
Index: src/app/qgisapp.cpp
--- src/app/qgisapp.cpp.orig
+++ src/app/qgisapp.cpp
@@ -1712,7 +1712,7 @@ void QgisApp::createActions()
   mActionReportaBug->setShortcut( QString() );
 #endif
 
-  mActionHelpContents->setEnabled( QFileInfo( QgsApplication::pkgDataPath() + "/doc/index.html" ).exists() );
+  mActionHelpContents->setEnabled( QFileInfo( QgsApplication::pkgDataPath() + "/../doc/qgis/index.html" ).exists() );
 
   connect( mActionHelpContents, SIGNAL( triggered() ), this, SLOT( helpContents() ) );
   connect( mActionHelpAPI, SIGNAL( triggered() ), this, SLOT( apiDocumentation() ) );
@@ -9162,7 +9162,7 @@ void QgisApp::helpContents()
 
 void QgisApp::apiDocumentation()
 {
-  if ( QFileInfo( QgsApplication::pkgDataPath() + "/doc/api/index.html" ).exists() )
+  if ( QFileInfo( QgsApplication::pkgDataPath() + "/../doc/qgis/api/index.html" ).exists() )
   {
     openURL( "api/index.html" );
   }
@@ -9191,7 +9191,7 @@ void QgisApp::openURL( QString url, bool useQgisDocDir
   // open help in user browser
   if ( useQgisDocDirectory )
   {
-    url = "file://" + QgsApplication::pkgDataPath() + "/doc/" + url;
+    url = "file://" + QgsApplication::pkgDataPath() + "/../doc/qgis/" + url;
   }
 #ifdef Q_OS_MACX
   /* Use Mac OS X Launch Services which uses the user's default browser
@@ -9315,7 +9315,7 @@ QgsVectorLayer* QgisApp::addVectorLayer( const QString
       Q_ASSERT( elements.size() >= 4 );
       if ( layer->name() != elements.at( 1 ) )
       {
-        layer->setName( QStringLiteral( "%1 %2 %3" ).arg( layer->name(), elements.at( 1 ), elements.at( 3 ) ) );
+        layer->setName( QString( "%1 %2 %3" ).arg( layer->name(), elements.at( 1 ), elements.at( 3 ) ) );
       }
 
       myList << layer;
