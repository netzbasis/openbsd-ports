$OpenBSD: patch-src_make_detectplatform_mk,v 1.2 2020/11/29 20:05:50 sthen Exp $

Index: src/make/detectplatform.mk
--- src/make/detectplatform.mk.orig
+++ src/make/detectplatform.mk
@@ -25,7 +25,9 @@ ifneq (${hw},x86)
   ifneq (${hw},x86_64)
     ifneq (${hw},i386)
       ifneq (${hw},i686)
-        $(error "ERROR: Unknown hardware architecture")
+        ifneq (${hw},amd64)
+          $(error "ERROR: Unknown hardware architecture")
+        endif
       endif
     endif
   endif
@@ -57,6 +59,10 @@ ifeq (${platform},unknown)
   # Mac OS X
   ifeq (${uname},darwin)
     platform := macosx
+  endif
+
+  ifeq (${uname},openbsd)
+    platform := openbsd
   endif
 
   # If we haven't been able to determine the platform from uname, use
