$OpenBSD: patch-conserver_consent_c,v 1.4 2014/09/08 16:12:11 sthen Exp $
--- conserver/consent.c.orig	Fri Apr  4 06:34:13 2014
+++ conserver/consent.c	Tue Sep  2 20:24:00 2014
@@ -557,7 +557,8 @@ SetupTty(pCE, fd)
     if (0 != tcgetattr(1, &n_tio)) {
 	exit(EX_OSERR);
     }
-    n_tio.c_iflag &= ~(IGNCR | IUCLC);
+
+    n_tio.c_iflag &= ~(IGNCR);
     n_tio.c_iflag |= ICRNL;
     if (pCE->ixon == FLAGTRUE)
 	n_tio.c_iflag |= IXON;
@@ -565,10 +566,8 @@ SetupTty(pCE, fd)
 	n_tio.c_iflag |= IXANY;
     if (pCE->ixoff == FLAGTRUE)
 	n_tio.c_iflag |= IXOFF;
-    n_tio.c_oflag &=
-	~(OLCUC | ONOCR | ONLRET | OFILL | NLDLY | CRDLY | TABDLY | BSDLY);
     n_tio.c_oflag |= OPOST | ONLCR;
-    n_tio.c_lflag &= ~(XCASE | NOFLSH | ECHOK | ECHONL);
+    n_tio.c_lflag &= ~(NOFLSH|ECHOK|ECHONL);
     n_tio.c_lflag |= ISIG | ICANON | ECHO;
     n_tio.c_cc[VEOF] = '\004';
     n_tio.c_cc[VEOL] = '\000';
