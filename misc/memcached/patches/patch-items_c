$OpenBSD: patch-items_c,v 1.12 2016/09/02 14:20:31 giovanni Exp $

printf format string fix for long long time_t

--- items.c.orig	Fri Jun 24 19:41:24 2016
+++ items.c	Thu Jun 30 00:03:36 2016
@@ -467,10 +467,10 @@ char *item_cachedump(const unsigned int slabs_clsid, c
         /* Copy the key since it may not be null-terminated in the struct */
         strncpy(key_temp, ITEM_key(it), it->nkey);
         key_temp[it->nkey] = 0x00; /* terminate */
-        len = snprintf(temp, sizeof(temp), "ITEM %s [%d b; %lu s]\r\n",
+        len = snprintf(temp, sizeof(temp), "ITEM %s [%d b; %llu s]\r\n",
                        key_temp, it->nbytes - 2,
                        it->exptime == 0 ? 0 :
-                       (unsigned long)it->exptime + process_started);
+                       (unsigned long long)it->exptime + process_started);
         if (bufcurr + len + 6 > memlimit)  /* 6 is END\r\n\0 */
             break;
         memcpy(buffer + bufcurr, temp, len);
