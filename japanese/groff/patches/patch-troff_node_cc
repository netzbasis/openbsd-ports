$OpenBSD: patch-troff_node_cc,v 1.2 2018/04/15 20:22:21 bcallah Exp $
Index: troff/node.cc
--- troff/node.cc.orig
+++ troff/node.cc
@@ -171,6 +171,7 @@ class tfont : public tfont_spec { (public)
   hunits get_subscript_correction(charinfo *);
   friend tfont *make_tfont(tfont_spec &);
 };
+tfont *make_tfont(tfont_spec &);
 
 inline int env_definite_font(environment *env)
 {
@@ -1527,7 +1528,7 @@ void glyph_node::operator delete(void *p)
 
 void ligature_node::operator delete(void *p)
 {
-  delete p;
+  delete[] (char *)p;
 }
 
 glyph_node::glyph_node(charinfo *c, tfont *t, node *x)
@@ -4943,7 +4944,7 @@ int is_boldfont(int fontno)
 {
   if (fontno >= 0 && fontno < font_table_size && font_table[fontno] != NULL) {
     const char *name = font_table[fontno]->external_name.contents();
-    if (name == '\0')
+    if (name == NULL)
       return fontno == 3 ? 1 : 0;
     for (char **p = boldfont_list; *p; p++) {
       if (strcmp(name, *p) == 0)
