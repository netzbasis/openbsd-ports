$OpenBSD: patch-modules_video_output_opengl_vout_helper_c,v 1.1 2019/12/25 15:48:26 ajacoutot Exp $

opengl: update libplacebo call for changed API

Index: modules/video_output/opengl/vout_helper.c
--- modules/video_output/opengl/vout_helper.c.orig
+++ modules/video_output/opengl/vout_helper.c
@@ -628,7 +628,9 @@ opengl_init_program(vout_display_opengl_t *vgl, struct
             .log_level = PL_LOG_INFO,
         });
         if (tc->pl_ctx) {
-#   if PL_API_VER >= 6
+#   if PL_API_VER >= 20
+            tc->pl_sh = pl_shader_alloc(tc->pl_ctx, NULL);
+#   elif PL_API_VER >= 6
             tc->pl_sh = pl_shader_alloc(tc->pl_ctx, NULL, 0);
 #   else
             tc->pl_sh = pl_shader_alloc(tc->pl_ctx, NULL, 0, 0);
