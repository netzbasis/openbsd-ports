$OpenBSD: patch-modules_engines_pixbuf_pixbuf-draw_c,v 1.1 2014/10/02 20:02:20 ajacoutot Exp $

From 1d0e2d58385bd01fdb753bf40ba2f4c32ccd0cc8 Mon Sep 17 00:00:00 2001
From: Matthias Clasen <mclasen@redhat.com>
Date: Mon, 29 Sep 2014 16:05:57 -0400
Subject: pixbuf engine: Avoid a crash if widget is NULL

--- modules/engines/pixbuf/pixbuf-draw.c.orig	Thu Mar  6 05:56:42 2014
+++ modules/engines/pixbuf/pixbuf-draw.c	Thu Oct  2 21:37:23 2014
@@ -131,7 +131,7 @@ draw_simple_image(GtkStyle       *style,
 	match_data->orientation = GTK_ORIENTATION_HORIZONTAL;
     }
 
-  if (!(match_data->flags & THEME_MATCH_DIRECTION))
+  if (widget && !(match_data->flags & THEME_MATCH_DIRECTION))
     {
       match_data->flags |= THEME_MATCH_DIRECTION;
       match_data->direction = gtk_widget_get_direction (widget);
