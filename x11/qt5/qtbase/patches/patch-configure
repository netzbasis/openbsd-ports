$OpenBSD: patch-configure,v 1.2 2017/05/08 16:14:32 espie Exp $
Make bootstrap pick up CC/CXX we want.
Index: configure
--- configure.orig
+++ configure
@@ -2880,7 +2880,11 @@ if [ -z "$PLATFORM" ]; then
         fi
         ;;
      OpenBSD:*)
-        PLATFORM=openbsd-g++
+     	if cc -v 2>&1|grep -q clang; then
+	    PLATFORM=openbsd-clang
+	else
+	    PLATFORM=openbsd-g++
+	fi
         ;;
      NetBSD:*)
         PLATFORM=netbsd-g++
@@ -4002,7 +4006,11 @@ fi
 # is where the resulting variable is written to
 setBootstrapVariable()
 {
-    getQMakeConf "$1" | echo ${2-$1} = `if [ -n "$3" ]; then sed "$3"; else cat; fi` >> "$mkfile"
+    if [ -n "$2" -a -n "$(eval echo \"\$$2\")" ]; then
+        echo ${2-$1} = "$(eval echo \"\$$2\")"
+    else
+        getQMakeConf "$1" | echo ${2-$1} = `if [ -n "$3" ]; then sed "$3"; else cat; fi` >> "$mkfile"
+    fi
 }
 
 # build qmake
