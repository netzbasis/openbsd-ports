$OpenBSD: patch-src_nautilus-canvas-item_c,v 1.1 2019/11/23 10:14:55 ajacoutot Exp $

REVERT (remove when we have pango >=1.44)
From 9738d8561ed38a87b4d72db3e49653641edd9a09 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ant=C3=B3nio=20Fernandes?= <antoniof@gnome.org>
Date: Wed, 4 Sep 2019 21:45:05 +0000
Subject: [PATCH] canvas-item, view-icon-item-ui: Don't hyphenate filenames

Index: src/nautilus-canvas-item.c
--- src/nautilus-canvas-item.c.orig
+++ src/nautilus-canvas-item.c
@@ -1381,14 +1381,12 @@ create_label_layout (NautilusCanvasItem *item,
     GString *str;
     char *zeroified_text;
     const char *p;
-    PangoAttrList *attr_list;
 
     canvas_item = EEL_CANVAS_ITEM (item);
 
     container = NAUTILUS_CANVAS_CONTAINER (canvas_item->canvas);
     context = gtk_widget_get_pango_context (GTK_WIDGET (canvas_item->canvas));
     layout = pango_layout_new (context);
-    attr_list = pango_attr_list_new ();
 
     zeroified_text = NULL;
 
@@ -1417,9 +1415,6 @@ create_label_layout (NautilusCanvasItem *item,
     pango_layout_set_spacing (layout, LABEL_LINE_SPACING);
     pango_layout_set_wrap (layout, PANGO_WRAP_WORD_CHAR);
 
-    pango_attr_list_insert (attr_list, pango_attr_insert_hyphens_new (FALSE));
-    pango_layout_set_attributes (layout, attr_list);
-
     /* Create a font description */
     if (container->details->font)
     {
@@ -1432,7 +1427,6 @@ create_label_layout (NautilusCanvasItem *item,
     pango_layout_set_font_description (layout, desc);
     pango_font_description_free (desc);
     g_free (zeroified_text);
-    pango_attr_list_unref (attr_list);
 
     return layout;
 }
