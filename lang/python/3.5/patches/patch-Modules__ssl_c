$OpenBSD: patch-Modules__ssl_c,v 1.2 2015/09/28 04:50:37 rpointel Exp $

http://bugs.python.org/issue23329
commited upstream: https://hg.python.org/cpython/rev/38a5b0f6531b

--- Modules/_ssl.c.orig	Sun Sep 13 13:41:24 2015
+++ Modules/_ssl.c	Wed Sep 23 21:15:44 2015
@@ -109,8 +109,7 @@ struct py_ssl_library_code {
 # define HAVE_SNI 0
 #endif
 
-/* ALPN added in OpenSSL 1.0.2 */
-#if !defined(LIBRESSL_VERSION_NUMBER) && OPENSSL_VERSION_NUMBER >= 0x1000200fL && !defined(OPENSSL_NO_TLSEXT)
+#ifdef TLSEXT_TYPE_application_layer_protocol_negotiation
 # define HAVE_ALPN
 #endif
 
