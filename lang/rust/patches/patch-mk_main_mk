$OpenBSD: patch-mk_main_mk,v 1.1 2016/06/09 04:20:10 semarie Exp $
partial backport of https://github.com/rust-lang/rust/commit/dd6e8d45e183861d44ed91a99f0a50403b2776a3
--- mk/main.mk.orig	Tue Jun  7 17:45:06 2016
+++ mk/main.mk	Tue Jun  7 17:58:02 2016
@@ -525,6 +525,9 @@ ifneq ($(strip $(CFG_BUILD)),$(strip $(3)))
 CFGFLAG$(1)_T_$(2)_H_$(3) = stage1
 
 RPATH_VAR$(1)_T_$(2)_H_$(3) := $$(TARGET_RPATH_VAR1_T_$(2)_H_$$(CFG_BUILD))
+else
+# Assume the rustc already has stage1 features too.
+CFGFLAG$(1)_T_$(2)_H_$(3) = stage1
 endif
 endif
 
