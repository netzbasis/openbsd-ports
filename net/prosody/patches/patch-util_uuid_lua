$OpenBSD: patch-util_uuid_lua,v 1.1 2016/01/11 12:11:36 sthen Exp $
--- util/uuid.lua.orig	Mon Jan 11 12:15:03 2016
+++ util/uuid.lua	Mon Jan 11 12:15:13 2016
@@ -8,7 +8,7 @@
 
 local error = error;
 local round_up = math.ceil;
-local urandom, urandom_err = io.open("/dev/urandom", "r+");
+local urandom, urandom_err = io.open("/dev/urandom", "r");
 
 module "uuid"
 
@@ -31,8 +31,6 @@ function generate()
 end
 
 function seed(x)
-	urandom:write(x);
-	urandom:flush();
 end
 
 return _M;
