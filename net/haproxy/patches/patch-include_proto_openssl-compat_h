$OpenBSD: patch-include_proto_openssl-compat_h,v 1.3 2018/02/19 10:26:10 sthen Exp $

Index: include/proto/openssl-compat.h
--- include/proto/openssl-compat.h.orig
+++ include/proto/openssl-compat.h
@@ -122,6 +122,7 @@ static inline void *SSL_CTX_get_default_passwd_cb_user
 	return ctx->default_passwd_callback_userdata;
 }
 
+#if defined(LIBRESSL_VERSION_NUMBER) && LIBRESSL_VERSION_NUMBER < 0x2070000fL
 #ifndef OPENSSL_NO_DH
 static inline int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g)
 {
@@ -136,6 +137,7 @@ static inline const unsigned char *ASN1_STRING_get0_da
 {
 	return x->data;
 }
+#endif
 
 static inline X509_ALGOR *X509_get0_tbs_sigalg(const X509 *x)
 {
