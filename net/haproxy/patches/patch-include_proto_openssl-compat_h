$OpenBSD: patch-include_proto_openssl-compat_h,v 1.4 2018/02/23 10:25:17 sthen Exp $

Index: include/proto/openssl-compat.h
--- include/proto/openssl-compat.h.orig
+++ include/proto/openssl-compat.h
@@ -122,6 +122,7 @@ static inline void *SSL_CTX_get_default_passwd_cb_user
 	return ctx->default_passwd_callback_userdata;
 }
 
+#if defined(LIBRESSL_VERSION_NUMBER) && LIBRESSL_VERSION_NUMBER < 0x2070000fL
 #ifndef OPENSSL_NO_DH
 static inline int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g)
 {
@@ -141,6 +142,7 @@ static inline X509_ALGOR *X509_get0_tbs_sigalg(const X
 {
 	return x->cert_info->signature;
 }
+#endif
 
 #endif
 
