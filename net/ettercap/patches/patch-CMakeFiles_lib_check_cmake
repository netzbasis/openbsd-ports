$OpenBSD: patch-CMakeFiles_lib_check_cmake,v 1.1 2013/01/10 18:11:14 sthen Exp $
--- CMakeFiles/lib_check.cmake.orig	Thu Jan  3 04:56:19 2013
+++ CMakeFiles/lib_check.cmake	Thu Jan 10 17:27:10 2013
@@ -38,14 +38,10 @@ if(ENABLE_GTK)
         include_directories(${GTK2_INCLUDE_DIRS})
     endif(GTK2_FOUND)
 
-    if(OS_DARWIN) 
-	find_library(FOUND_GTHREAD gthread-2.0)
-    	if(FOUND_GTHREAD)
-		set(EC_LIBS ${EC_LIBS} ${FOUND_GTHREAD})
-    	endif(FOUND_GTHREAD)
-    else(OS_DARWIN)
-        set(EC_LIBS ${EC_LIBS} gthread-2.0)
-    endif(OS_DARWIN)
+    find_library(FOUND_GTHREAD gthread-2.0)
+    if(FOUND_GTHREAD)
+	set(EC_LIBS ${EC_LIBS} ${FOUND_GTHREAD})
+    endif(FOUND_GTHREAD)
 endif(ENABLE_GTK)
 
 if(ENABLE_SSL)
@@ -144,6 +140,12 @@ if(HAVE_LIBNET)
     find_path(LIBNET_INCLUDE_DIR libnet.h)
     if(LIBNET_INCLUDE_DIR)
         include_directories(${LIBNET_INCLUDE_DIR})
+        find_path(LIBNET_INCLUDE_DIR libnet.h)
+    else(LIBNET_INCLUDE_DIR)
+        find_path(LIBNET_INCLUDE_DIR libnet-1.1/libnet.h)
+        if(LIBNET_INCLUDE_DIR)
+            include_directories(${LIBNET_INCLUDE_DIR}/libnet-1.1)
+        endif(LIBNET_INCLUDE_DIR)
     endif(LIBNET_INCLUDE_DIR)
     set(EC_LIBS ${EC_LIBS} ${HAVE_LIBNET})
 else(HAVE_LIBNET)
