$OpenBSD: patch-ui_qt_capture_interfaces_dialog_cpp,v 1.3 2020/04/13 08:09:35 sthen Exp $

From 71f6d9411a38a3e98598b4c7b68f3f94917fcb86 Mon Sep 17 00:00:00 2001
From: Dario Lombardo <lomato@gmail.com>
Date: Sun, 12 Apr 2020 00:14:02 +0200
Subject: [PATCH] Qt: don't use a widget if not set.

Bug: 16489
Change-Id: I9585120fb07f3c41ac2ddc7fb9eeb9b17542f5e8
Reviewed-on: https://code.wireshark.org/review/36789
Petri-Dish: Dario Lombardo <lomato@gmail.com>
Tested-by: Petri Dish Buildbot
Reviewed-by: Gerald Combs <gerald@wireshark.org>
---
 ui/qt/capture_options_dialog.cpp | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

Index: ui/qt/capture_interfaces_dialog.cpp
--- ui/qt/capture_interfaces_dialog.cpp.orig
+++ ui/qt/capture_interfaces_dialog.cpp
@@ -1287,11 +1287,9 @@ QWidget* InterfaceTreeDelegate::createEditor(QWidget *
         default:
             break;
         }
-//        if (w) {
-//            ti->setSizeHint(index.column(), w->sizeHint());
-//        }
     }
-    w->setAutoFillBackground(true);
+    if (w)
+        w->setAutoFillBackground(true);
     return w;
 }
 
