$OpenBSD: patch-lib_base_utility_hpp,v 1.1 2015/11/09 22:36:38 sthen Exp $

commit 9ea51aa86edac407411376d2ed18a494368b9e31
Author: Gunnar Beutner <gunnar@beutner.name>
Date:   Mon Nov 9 20:39:26 2015 +0100

    Use non-blocking open() for the command pipe

    fixes #10410

--- lib/base/utility.hpp.orig	Mon Oct 19 10:14:40 2015
+++ lib/base/utility.hpp	Mon Nov  9 21:42:01 2015
@@ -101,11 +101,11 @@ class I2_BASE_API Utility (public)
 	static void ExecuteDeferredInitializers(void);
 
 #ifndef _WIN32
-	static void SetNonBlocking(int fd);
-	static void SetCloExec(int fd);
+	static void SetNonBlocking(int fd, bool nb = true);
+	static void SetCloExec(int fd, bool cloexec = true);
 #endif /* _WIN32 */
 
-	static void SetNonBlockingSocket(SOCKET s);
+	static void SetNonBlockingSocket(SOCKET s, bool nb = true);
 
 	static String EscapeShellCmd(const String& s);
 	static String EscapeShellArg(const String& s);
