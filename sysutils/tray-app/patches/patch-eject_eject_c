$OpenBSD: patch-eject_eject_c,v 1.2 2015/10/26 19:57:45 zhuk Exp $
Unbreak after d_un removal in sys/disklabel.h.
--- eject/eject.c.orig	Mon Mar 12 09:46:04 2012
+++ eject/eject.c	Mon Oct 26 20:56:19 2015
@@ -197,12 +197,12 @@ disklabel2names(struct disklabel *dl, char *name)
 	size_t i, k;
 
 	k = 0;
-	for (i = 0; i < sizeof(dl->d_un.un_d_packname); i++)
-		if (!isspace(dl->d_un.un_d_packname[i]))
+	for (i = 0; i < sizeof(dl->d_packname); i++)
+		if (!isspace(dl->d_packname[i]))
 			break;
-	if (i < sizeof(dl->d_un.un_d_packname)) {
-		k = sizeof(dl->d_un.un_d_packname) - i;
-		memcpy(name, dl->d_un.un_d_packname + i, k);
+	if (i < sizeof(dl->d_packname)) {
+		k = sizeof(dl->d_packname) - i;
+		memcpy(name, dl->d_packname + i, k);
 		for (i = k; i > 0; i--) {
 			if (!isspace(name[i - 1]) && name[i - 1] != '\0')
 				break;
