$OpenBSD: patch-lib_puppet_ssl_certificate_rb,v 1.1 2016/05/27 19:10:39 sebastia Exp $

Make certificate extension available in puppet manifests
See https://tickets.puppetlabs.com/browse/PUP-6365

--- lib/puppet/ssl/certificate.rb.orig	Wed May 25 08:13:50 2016
+++ lib/puppet/ssl/certificate.rb	Wed May 25 08:14:35 2016
@@ -60,6 +60,8 @@ DOC
         Puppet::SSL::Oids.subtree_of?('ppPrivCertExt', ext.oid)
     end
 
-    custom_exts.map { |ext| {'oid' => ext.oid, 'value' => ext.value} }
+    extensions = []
+    custom_exts.map { |ext| extensions << {'oid' => ext.oid, 'value' => ext.value} }
+    return extensions
   end
 end
