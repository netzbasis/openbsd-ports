$OpenBSD: patch-src_scripts_javareconf_in,v 1.5 2015/06/23 15:14:52 feinerer Exp $
--- src/scripts/javareconf.in.orig	Fri Jun 19 18:53:14 2015
+++ src/scripts/javareconf.in	Fri Jun 19 18:54:28 2015
@@ -6,7 +6,7 @@ fi
 ## pick up configure-time settings
 . "${R_HOME}/etc${R_ARCH}/javaconf"
 
-DYLIB_EXT=`${R_HOME}/bin/R CMD config DYLIB_EXT`
+SHLIB_EXT=`${R_HOME}/bin/R CMD config SHLIB_EXT`
 tools_classpath=${R_SHARE_DIR}/java
 
 revision='$Rev: 67942 $'
@@ -223,7 +223,7 @@ if test "${JAVA_LIBS}" = "~autodetect~"; then
 	has_libjvm=no
 	save_IFS=$IFS; IFS=:
 	for dir in ${java_library_path}; do
-	    if test -f "$dir/libjvm${DYLIB_EXT}"; then
+	    if test -f "$dir/libjvm${SHLIB_EXT}"; then
 		has_libjvm=yes
 		java_library_path="${dir}"
 		break
@@ -234,7 +234,7 @@ if test "${JAVA_LIBS}" = "~autodetect~"; then
 	    boot_path=`"$JAVA" -classpath "${tools_classpath}" getsp sun.boot.library.path| ${SED-sed} -e 's/:$//' -e 's/^://'`
 	    if test -n "${boot_path}"; then
 		for dir in "${boot_path}" "${boot_path}/client" "${boot_path}/server"; do
-		    if test -f "$dir/libjvm${DYLIB_EXT}"; then
+		    if test -f "$dir/libjvm${SHLIB_EXT}"; then
 			has_libjvm=yes
 			java_library_path="${dir}"
 			break
